% AshivD 13 March 2017
% Based on
% Fig 1.6 in Tracking Filter Engineering

\documentclass{article}
%\usepackage[utf8x]{inputenc} % utf8 encoding
%\usepackage[T1]{fontenc} % use T1 fonts
\usepackage{amsmath,amssymb} % nice math symbols
\usepackage{bm} % bold math
\usepackage{color} % change text color        

\usepackage[dvipsnames]{xcolor}
\usepackage{tikz}

\usepackage{verbatim}
\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength\PreviewBorder{10pt}%


\usetikzlibrary{decorations.pathmorphing} % for snake lines
\usetikzlibrary{matrix} % for block alignment
\usetikzlibrary{arrows} % for arrow heads
\usetikzlibrary{calc} % for manimulation of coordinates

% TikZ styles for drawing
\tikzstyle{block} = [draw,rectangle,thick,minimum height=2em,minimum width=2em,fill=Melon]
\tikzstyle{sum} = [draw,circle,inner sep=0mm,minimum size=2mm]
\tikzstyle{connector} = [->,thick]
\tikzstyle{line} = [thick]
\tikzstyle{branch} = [circle,inner sep=0pt,minimum size=1mm,fill=black,draw=black]
\tikzstyle{guide} = []
\tikzstyle{snakeline} = [connector, decorate, decoration={pre length=0.2cm,
                         post length=0.2cm, snake, amplitude=.4mm,
                         segment length=2mm},thick, Green, ->]

\renewcommand{\vec}[1]{\ensuremath{\boldsymbol{#1}}} % bold vectors
\def \myneq {\skew{-2}\not =} % \neq alone skews the dash

\begin{document}

  \begin{tikzpicture}[scale=1, auto, >=stealth']
    \small
    % node placement with matrix library: 5x4 array
    \matrix[ampersand replacement=\&, row sep=0.2cm, column sep=0.5cm] {
      %
      \node[block] (F1) {\textbf{Dynamic Target with true state vector} $\mathbf{x}(t)$}; \&
      \&
      \node[block] (f1) {\textbf{Measurement System}}; \& 
      \&
      \node[block] (f2) {\textbf{Estimator System}};\&
     % \node [sum] (e1) {}; \\

%      \&
      \&
      \&
      \\
      \node[guide] (i1) {}; \& \& \& \& \\
    };

    % now link the nodes
   % \draw [line] (F1) -- (u1);
    \draw [connector] (F1) -- node {\color{Blue} $\mathbf{x}(t)$} (f1);
%     \node[draw = none]  at  ($(f1.east) - (-0.2cm,0cm)$){$\mathbf{y}$};
    \draw [connector] (f1) -- node {\color{Blue} $\mathbf{y}(t)$} (f2);
    \draw [connector] (f2.east) -- node{\color{Blue} $\hat{\mathbf{x}}(t)$}($(f2.east) - (-1.2cm,0cm)$)  ;
    \draw [connector] ($(f1.north) - (0cm,-0.8cm)$) -- node{}(f1.north)  ;
     \node[draw = none]  at  ($(f1.north) - (0cm,-1cm)$){\textbf{Measurement disturbances}};




  \end{tikzpicture}

\end{document}
